# SQL-booking

В данном проекте я спроектировал базу данных, реализовывающую хранение данных системы бронирования жилья Booking.com.
В данной БД реализована лишь часть таблиц, необходимых для полноценной работы сервиса.

Стек: MySQL

В часности реализованы следующие разделы:
1. Пользователи. Представлены таблицами: 
	users - основные данные о пользователе;
	settings, newsletter_preferences, reservation_emails, payment_card_types - хранят настройки и предпочтения пользователей.
2. Объекты размещения. Представлены таблицами:
	properties, property_profiles - основные и дополнительные данные об объектах размещения;
	property_types, room_types, bed_types - хранят виды объектов размещения, комнат, кроватей соответственно;
	cities, countries - справочники городов и стран.
3. В таблице bookings хранятся данные о бронированиях.
4. В таблице reviews хранятся отзывы от пользователей об объектах размещения.
5. В таблице messages хранятся сообщения между пользователями и представителями объектов размещения.
6. В таблицу logs (движок Archive) добавляются записи обо всех добавлениях и обновлениях записей с таблицах users и properties. 

Для создания БД необходимо:  
1. Выполнить скрипт из "create_bd.sql" - создание самой БД
2. Выполнить скрипт из "fulldb-13-09-2020-13-23-beta.sql"  -наполнение таблиц БД данными

Также реализованы следующие скрипты:
1. "logs_table.sql" - Создание таблицы логов, а также создание тригеров, которые при каждом создании или обновлении записи в таблицах users и properties 
помещает в таблицу logs время и дата создания/обновления записи, название таблицы, идентификатор первичного ключа и 
содержимое полей email / property_name и тип события. 
2. procs_funcs.sql - Несколько процедур и функция.
4. triggers.sql - несколько триггеров.
5. views.sql - несколько представлений.
